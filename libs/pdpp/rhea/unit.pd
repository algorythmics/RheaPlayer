#N canvas 834 283 450 348 10;
#X text 28 352 GPL: (c) algorythmics \, winfried ritsch;
#X text 19 32 boards should be assigned IDs from 0 .. 2;
#X text 20 48 Only one is a receiver \, the others are slaves;
#X text 218 298 if you use global reconnect or so;
#X text 122 117 note velocity=0...127 \, where 0 is noteoff;
#X obj 30 114 unpack f 64;
#X obj 33 158 max 0;
#N canvas 169 160 450 300 map_velocity 1;
#X obj 262 76 until;
#X obj 266 100 i 0;
#X obj 299 99 + 1;
#X obj 265 127 t f f;
#X obj 265 14 loadbang;
#X msg 300 54 0;
#X obj 266 33 t b b;
#X obj 39 48 inlet;
#X obj 35 112 outlet;
#X obj 35 91 tabread \$0-veltab;
#X obj 261 199 tabwrite \$0-veltab;
#X obj 256 224 table \$0-veltab 128;
#X msg 264 52 128;
#X obj 261 170 * 32;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 13 0;
#X connect 3 1 10 1;
#X connect 4 0 6 0;
#X connect 5 0 1 1;
#X connect 6 0 12 0;
#X connect 6 1 5 0;
#X connect 7 0 9 0;
#X connect 9 0 8 0;
#X connect 12 0 0 0;
#X connect 13 0 10 0;
#X restore 184 183 pd map_velocity to vel;
#N canvas 211 286 450 300 map_finger 0;
#X obj 258 182 table \$0-fingertab 128;
#X obj 262 76 until;
#X obj 266 100 i 0;
#X obj 299 99 + 1;
#X obj 265 127 t f f;
#X obj 263 157 tabwrite \$0-fingertab;
#X obj 265 14 loadbang;
#X msg 300 54 0;
#X obj 266 33 t b b;
#X msg 264 52 128;
#X obj 39 48 inlet;
#X obj 35 91 tabread \$0-fingertab;
#X obj 35 112 outlet;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 6 0 8 0;
#X connect 7 0 2 1;
#X connect 8 0 9 0;
#X connect 8 1 7 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X restore 33 183 pd map_finger to notes;
#X text 24 69 will be extended with calibration routines;
#X text 52 243 0 192.168.9.80... pianonr \, ip;
#X obj 58 268 spigot;
#X obj 112 268 r /piano/\$1/v_send;
#X obj 29 95 r /piano/\$1/note;
#X obj 298 271 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 31 135 - 0;
#X obj 33 208 finger;
#X obj 220 314 pde/connect_init 0;
#X obj 33 313 pde/send \$1 \$2 6000;
#X obj 58 289 print /piano/\$1/send;
#X text 18 16 a piano is controlled by 3 escher units on one board
;
#X connect 5 0 15 0;
#X connect 5 1 7 0;
#X connect 6 0 8 0;
#X connect 7 0 16 1;
#X connect 8 0 16 0;
#X connect 11 0 19 0;
#X connect 12 0 11 1;
#X connect 12 0 14 0;
#X connect 13 0 5 0;
#X connect 15 0 6 0;
#X connect 16 0 11 0;
#X connect 16 0 18 0;
