#N canvas 297 215 509 275 10;
#X obj 33 37 r /piano/\$1/note;
#X obj 34 186 pdpp/rhea/stack \$1;
#X obj 34 236 pdpp/rhea/udp \$1;
#X obj 152 235 pdpp/rhea/udp \$2;
#X text 42 8 rhea <nr=pianonr> [second piano player nr \, splitted]
;
#X obj 152 214 spigot \$2;
#X obj 33 88 spigot 1;
#N canvas 499 250 780 478 piano 0;
#X obj 42 270 demux 0 1 2;
#N canvas 334 494 310 300 pedal 0;
#X msg 89 153 88;
#X obj 89 175 until;
#X obj 89 197 i 1;
#X obj 135 197 + 1;
#X obj 93 127 t b b;
#X msg 137 153 21;
#X obj 91 105 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 89 251 outlet;
#X obj 116 57 inlet;
#X text 82 30 all note 1s \, pedal on;
#X obj 89 223 pack 0 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 10 0;
#X connect 3 0 2 1;
#X connect 4 0 0 0;
#X connect 4 1 5 0;
#X connect 5 0 2 1;
#X connect 6 0 4 0;
#X connect 8 0 4 0;
#X connect 10 0 7 0;
#X restore 240 362 pd pedal;
#N canvas 333 547 389 272 notesoff 0;
#X msg 59 120 88;
#X obj 59 142 until;
#X obj 59 164 i 1;
#X obj 105 164 + 1;
#X obj 63 200 pack 0 0;
#X obj 61 88 t b b;
#X msg 105 114 21;
#X obj 59 66 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 90 63 inlet;
#X obj 63 222 outlet;
#X text 50 35 all notes off;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 2 1;
#X connect 4 0 9 0;
#X connect 5 0 0 0;
#X connect 5 1 6 0;
#X connect 6 0 2 1;
#X connect 7 0 5 0;
#X connect 8 0 5 0;
#X restore 322 361 pd notesoff;
#X obj 241 99 sel 1 0;
#X obj 268 302 s /np/pianonote_drop/overwrite;
#X msg 206 249 2;
#X obj 240 140 t b b;
#X obj 290 139 t b b;
#X msg 354 253 1;
#X obj 351 189 i 0;
#X obj 274 207 sel 0 1;
#X msg 149 245 1;
#X msg 115 242 0;
#X msg 314 251 1;
#X msg 268 250 0;
#X text 242 49 piano pedal;
#X text 411 85 overwrite;
#X obj 351 140 t f b;
#X obj 40 116 inlet;
#X obj 42 440 outlet;
#X text 83 114 notes <note> <vel>;
#X text 44 18 modes are: pedal on which triggers overwrite and overwrite
only;
#X text 122 333 pedal ist overwrite without note offs;
#X text 345 389 sent all 1s to alle notes;
#X text 450 359 all note offs wenn pedal off;
#X text 488 305 in piano_dropnotes and noteshold;
#X obj 241 72 r /piano/\$1/pedal;
#X obj 354 106 r /piano/\$1/overwrite;
#X obj 109 387 ../np/drop_noteoffs;
#X obj 72 413 ../np/noteshold;
#X connect 0 0 19 0;
#X connect 0 1 29 0;
#X connect 0 2 28 0;
#X connect 1 0 29 0;
#X connect 2 0 29 0;
#X connect 3 0 6 0;
#X connect 3 1 7 0;
#X connect 5 0 0 1;
#X connect 6 0 1 0;
#X connect 6 1 5 0;
#X connect 6 1 8 0;
#X connect 7 0 9 0;
#X connect 7 1 2 0;
#X connect 8 0 4 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 10 0 14 0;
#X connect 10 1 11 0;
#X connect 10 1 13 0;
#X connect 11 0 0 1;
#X connect 12 0 0 1;
#X connect 13 0 4 0;
#X connect 14 0 4 0;
#X connect 17 0 9 0;
#X connect 17 1 2 0;
#X connect 18 0 0 0;
#X connect 26 0 3 0;
#X connect 27 0 17 0;
#X connect 28 0 29 0;
#X connect 29 0 19 0;
#X restore 34 157 pd piano modes;
#X obj 78 64 r /piano/\$1/on;
#X obj 288 61 spigot 0;
#X obj 288 82 print piano_in;
#X obj 336 208 spigot 0;
#X obj 336 229 print piano_out;
#X obj 381 28 r /piano/\$1/v_in;
#X obj 240 112 pdpp/veltab/store /piano/\$1/veltab;
#X obj 34 112 pdpp/veltab/map /piano/\$1/veltab;
#X text 125 158 veltab can trigger more note offs;
#X connect 0 0 9 0;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 1 1 5 0;
#X connect 5 0 3 0;
#X connect 6 0 15 0;
#X connect 7 0 1 0;
#X connect 8 0 6 1;
#X connect 9 0 10 0;
#X connect 11 0 12 0;
#X connect 13 0 9 1;
#X connect 13 0 11 1;
#X connect 15 0 11 0;
#X connect 15 0 7 0;
